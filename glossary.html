<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Project Management Dictionary â€” PMPÂ® Study Hellâ„¢</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<style>
:root {
  --primary: #2f4f60;
  --primary-dark: #1f3b49;
  --primary-light: #5f93c2;
  --accent: #3b7bc8;
  --text: #0b1220;
  --muted: #334155;
  --light: #64748b;
  --bg: #f8fafc;
  --card: #ffffff;
  --border: #e2e8f0;
  --radius: 10px;
}
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
body { font-family: Inter, system-ui, sans-serif; color: var(--text); background: var(--bg); }

/* NAV */
.navbar {
  background: var(--primary);
  height: 56px;
  display: flex;
  align-items: center;
  padding: 0 24px;
  gap: 24px;
  position: sticky;
  top: 0;
  z-index: 1000;
}
.brand { color: #fff; text-decoration: none; font-weight: 700; font-size: 15px; white-space: nowrap; flex-shrink: 0; }
.brand sup { font-size: 9px; vertical-align: super; }
.nav-links { display: flex; align-items: center; gap: 6px; margin-left: auto; }
.nav-links a {
  color: rgba(255,255,255,.85); text-decoration: none;
  padding: 6px 12px; border-radius: 8px; font-size: 14px; font-weight: 500;
  transition: background .15s;
}
.nav-links a:hover, .nav-links a.active { background: rgba(255,255,255,.15); color: #fff; }
.nav-links a.active { font-weight: 700; }
.hamburger { display:none; flex-direction:column; justify-content:center; gap:5px; background:transparent; border:none; cursor:pointer; padding:4px; margin-left:auto; }
.hamburger span { display:block; width:22px; height:2px; background:#fff; border-radius:2px; }

/* HEADER */
.page-header {
  background: linear-gradient(135deg, var(--primary) 0%, #1a3a4e 100%);
  color: #fff;
  padding: 40px 24px 36px;
}
.page-header .inner { max-width: 1100px; margin: 0 auto; }
.page-header h1 { font-size: clamp(24px, 4vw, 36px); font-weight: 800; margin-bottom: 6px; }
.page-header p { font-size: 15px; color: rgba(255,255,255,.75); }

/* SEARCH + FILTERS */
.controls {
  background: #fff;
  border-bottom: 1px solid var(--border);
  padding: 16px 24px;
  position: sticky;
  top: 56px;
  z-index: 100;
}
.controls .inner { max-width: 1100px; margin: 0 auto; display: flex; flex-direction: column; gap: 12px; }
.search-row { display: flex; align-items: center; gap: 10px; }
.search-wrap { position: relative; flex: 1; max-width: 480px; }
.search-wrap svg { position: absolute; left: 12px; top: 50%; transform: translateY(-50%); color: var(--light); }
#searchInput {
  width: 100%;
  padding: 10px 12px 10px 38px;
  border: 1px solid var(--border);
  border-radius: 8px;
  font-size: 14px;
  font-family: inherit;
  outline: none;
}
#searchInput:focus { border-color: var(--primary-light); }
.count-badge { font-size: 13px; color: var(--light); white-space: nowrap; }

.filter-chips { display: flex; flex-wrap: wrap; gap: 6px; }
.chip {
  padding: 4px 12px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: #fff;
  font-size: 13px;
  font-weight: 500;
  cursor: pointer;
  color: var(--muted);
  transition: all .15s;
  white-space: nowrap;
}
.chip:hover { border-color: var(--primary-light); color: var(--primary); }
.chip.active { background: var(--primary); border-color: var(--primary); color: #fff; }

.alpha-row { display: flex; flex-wrap: wrap; gap: 3px; }
.alpha-btn {
  width: 28px; height: 28px;
  display: flex; align-items: center; justify-content: center;
  border-radius: 6px;
  border: 1px solid var(--border);
  background: #fff;
  font-size: 12px;
  font-weight: 600;
  cursor: pointer;
  color: var(--muted);
  transition: all .15s;
}
.alpha-btn:hover { border-color: var(--primary-light); color: var(--primary); }
.alpha-btn.active { background: var(--primary); border-color: var(--primary); color: #fff; }

/* MAIN */
.main { max-width: 1100px; margin: 0 auto; padding: 24px; }

/* CATEGORY SECTION HEADINGS */
.cat-heading {
  font-size: 18px;
  font-weight: 800;
  color: var(--primary);
  margin: 32px 0 12px;
  padding-bottom: 8px;
  border-bottom: 2px solid var(--border);
  display: flex;
  align-items: center;
  gap: 8px;
}
.cat-heading:first-child { margin-top: 0; }
.cat-count { font-size: 12px; font-weight: 600; background: var(--bg); border: 1px solid var(--border); border-radius: 999px; padding: 1px 8px; color: var(--light); }

/* TERM CARDS */
.term-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(340px, 1fr)); gap: 12px; margin-bottom: 8px; }
.term-card {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 16px 18px;
  cursor: pointer;
  transition: border-color .15s, box-shadow .15s;
}
.term-card:hover { border-color: var(--primary-light); box-shadow: 0 4px 12px rgba(0,0,0,.08); }
.term-card.expanded { border-color: var(--primary); }
.term-card .term-name {
  font-size: 15px;
  font-weight: 700;
  color: var(--text);
  margin-bottom: 4px;
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 8px;
}
.term-card .cat-tag {
  font-size: 11px;
  font-weight: 600;
  padding: 2px 7px;
  border-radius: 999px;
  background: var(--bg);
  color: var(--light);
  border: 1px solid var(--border);
  white-space: nowrap;
  flex-shrink: 0;
}
.term-card .definition {
  font-size: 14px;
  color: var(--muted);
  line-height: 1.6;
  display: none;
  margin-top: 10px;
  padding-top: 10px;
  border-top: 1px solid var(--border);
}
.term-card.expanded .definition { display: block; }
.related-terms { margin-top: 10px; display: flex; flex-wrap: wrap; gap: 5px; }
.related-link {
  font-size: 12px;
  color: var(--accent);
  background: #eff6ff;
  border: 1px solid #bfdbfe;
  border-radius: 6px;
  padding: 2px 8px;
  cursor: pointer;
  text-decoration: none;
}
.related-link:hover { background: #dbeafe; }

.empty-msg { text-align: center; padding: 60px 0; color: var(--light); font-size: 15px; }

@media (max-width: 640px) {
  .nav-links { display: none; position: absolute; top: 56px; left: 0; right: 0; background: var(--primary-dark); flex-direction: column; padding: 12px 16px 16px; gap: 4px; }
  .nav-links.open { display: flex; }
  .nav-links a { padding: 10px 14px; font-size: 15px; }
  .hamburger { display: flex; }
  .term-grid { grid-template-columns: 1fr; }
  .controls { padding: 12px 16px; }
  .main { padding: 16px; }
}
</style>
</head>
<body>

<nav class="navbar">
  <a class="brand" href="index.html">PMP<sup>Â®</sup> Study Hell<sup>â„¢</sup></a>
  <div class="nav-links" id="navLinks">
    <a href="exam.html">Practice Exam</a>
    <a href="glossary.html" class="active">Dictionary</a>
    <a href="flashcards.html">Flashcards</a>
    <a href="blog.html">Blog</a>
  </div>
  <button class="hamburger" id="hamburger" aria-label="Toggle menu">
    <span></span><span></span><span></span>
  </button>
</nav>

<div class="page-header">
  <div class="inner">
    <h1>Project Management Dictionary</h1>
    <p>150+ PMBOKÂ® Guide 8th edition terms, principles, and performance domains â€” searchable, filterable, and grouped by topic.</p>
  </div>
</div>

<div class="controls">
  <div class="inner">
    <div class="search-row">
      <div class="search-wrap">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/>
        </svg>
        <input id="searchInput" type="search" placeholder="Search termsâ€¦" autocomplete="off" aria-label="Search terms">
      </div>
      <span class="count-badge" id="countBadge"></span>
    </div>
    <div class="filter-chips" id="categoryChips"></div>
    <div class="alpha-row" id="alphaRow"></div>
  </div>
</div>

<main class="main" id="mainContent">
  <div class="empty-msg" id="emptyMsg" style="display:none">No terms match your search.</div>
</main>

<script>
// â”€â”€ NAV HAMBURGER â”€â”€
const hamburger = document.getElementById('hamburger');
const navLinks = document.getElementById('navLinks');
hamburger.addEventListener('click', () => {
  const open = navLinks.classList.toggle('open');
  hamburger.setAttribute('aria-expanded', String(open));
});

// â”€â”€ CATEGORY COLORS / LABELS â”€â”€
const CAT_INFO = {
  "PMBOK Principles":             { icon: "âš¡", sub: "Principles Dictionary" },
  "Performance Domains":          { icon: "ðŸŽ¯", sub: "Performance Domains Dictionary" },
  "Core Concepts":                { icon: "ðŸ”‘", sub: "Core Concepts Dictionary" },
  "Agile & Adaptive":             { icon: "ðŸ”„", sub: "Agile Dictionary" },
  "Development Approach":         { icon: "ðŸ›¤ï¸", sub: "Development Approach Dictionary" },
  "Earned Value Management":      { icon: "ðŸ“Š", sub: "EVM Dictionary" },
  "Risk Management":              { icon: "âš ï¸", sub: "Risk Management Dictionary" },
  "Quality Management":           { icon: "âœ…", sub: "Quality Management Dictionary" },
  "Procurement":                  { icon: "ðŸ“‹", sub: "Procurement Dictionary" },
  "Stakeholder & Communication":  { icon: "ðŸ¤", sub: "Stakeholder Dictionary" },
  "Team & Leadership":            { icon: "ðŸ‘¥", sub: "Leadership Dictionary" },
  "Schedule Management":          { icon: "ðŸ“…", sub: "Schedule Dictionary" },
  "Cost Management":              { icon: "ðŸ’°", sub: "Cost Management Dictionary" },
  "Scope Management":             { icon: "ðŸ“", sub: "Scope Management Dictionary" },
  "Planning":                     { icon: "ðŸ—ºï¸", sub: "Planning Dictionary" }
};

let allTerms = [];
let activeCategory = "All";
let activeLetter = "All";
let searchQuery = "";

// â”€â”€ LOAD DATA â”€â”€
fetch("data/glossary.json")
  .then(r => r.json())
  .then(data => {
    allTerms = data.terms.sort((a, b) => a.term.localeCompare(b.term));
    buildCategoryChips();
    buildAlphaRow();
    render();
  });

function buildCategoryChips() {
  const cats = ["All", ...Object.keys(CAT_INFO).filter(c => allTerms.some(t => t.category === c))];
  const container = document.getElementById('categoryChips');
  cats.forEach(cat => {
    const btn = document.createElement('button');
    btn.className = 'chip' + (cat === activeCategory ? ' active' : '');
    btn.textContent = cat === "All" ? "All Topics" : ((CAT_INFO[cat]?.icon || '') + ' ' + cat);
    btn.addEventListener('click', () => {
      activeCategory = cat;
      activeLetter = "All";
      document.querySelectorAll('.chip').forEach(c => c.classList.remove('active'));
      btn.classList.add('active');
      document.querySelectorAll('.alpha-btn').forEach(b => b.classList.toggle('active', b.textContent === 'All'));
      render();
    });
    container.appendChild(btn);
  });
}

function buildAlphaRow() {
  const container = document.getElementById('alphaRow');
  ['All', ...'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('')].forEach(letter => {
    const btn = document.createElement('button');
    btn.className = 'alpha-btn' + (letter === 'All' ? ' active' : '');
    btn.textContent = letter;
    btn.addEventListener('click', () => {
      activeLetter = letter;
      document.querySelectorAll('.alpha-btn').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      render();
    });
    container.appendChild(btn);
  });
}

document.getElementById('searchInput').addEventListener('input', e => {
  searchQuery = e.target.value.trim().toLowerCase();
  render();
});

// â”€â”€ FILTER â”€â”€
function getFiltered() {
  return allTerms.filter(t => {
    if (activeCategory !== "All" && t.category !== activeCategory) return false;
    if (activeLetter !== "All" && !t.term.toUpperCase().startsWith(activeLetter)) return false;
    if (searchQuery) {
      const q = searchQuery;
      return t.term.toLowerCase().includes(q) || t.definition.toLowerCase().includes(q);
    }
    return true;
  });
}

// â”€â”€ RENDER â”€â”€
function render() {
  const filtered = getFiltered();
  const main = document.getElementById('mainContent');
  const emptyMsg = document.getElementById('emptyMsg');
  const countBadge = document.getElementById('countBadge');

  countBadge.textContent = `${filtered.length} term${filtered.length !== 1 ? 's' : ''}`;

  // Clear existing content (except emptyMsg)
  Array.from(main.children).forEach(c => { if (c !== emptyMsg) c.remove(); });

  if (filtered.length === 0) { emptyMsg.style.display = ''; return; }
  emptyMsg.style.display = 'none';

  // Group by category
  const grouped = {};
  filtered.forEach(t => {
    if (!grouped[t.category]) grouped[t.category] = [];
    grouped[t.category].push(t);
  });

  // Render categories in a defined order
  const catOrder = Object.keys(CAT_INFO);
  const sortedCats = [...Object.keys(grouped)].sort((a, b) => {
    const ai = catOrder.indexOf(a), bi = catOrder.indexOf(b);
    return (ai === -1 ? 99 : ai) - (bi === -1 ? 99 : bi);
  });

  sortedCats.forEach(cat => {
    const info = CAT_INFO[cat] || { icon: 'ðŸ“Œ', sub: cat + ' Dictionary' };
    const section = document.createElement('div');

    const heading = document.createElement('div');
    heading.className = 'cat-heading';
    const isFiltered = activeCategory !== "All" && activeCategory === cat;
    heading.innerHTML = `<span>${info.icon} ${isFiltered ? info.sub : cat}</span><span class="cat-count">${grouped[cat].length}</span>`;
    section.appendChild(heading);

    const grid = document.createElement('div');
    grid.className = 'term-grid';
    grouped[cat].forEach(t => {
      grid.appendChild(makeCard(t));
    });
    section.appendChild(grid);
    main.appendChild(section);
  });
}

function makeCard(t) {
  const card = document.createElement('div');
  card.className = 'term-card';
  card.id = 'term-' + t.term.replace(/[^a-z0-9]/gi, '-').toLowerCase();

  const nameRow = document.createElement('div');
  nameRow.className = 'term-name';
  nameRow.innerHTML = `<span>${t.term}</span><span class="cat-tag">${t.category}</span>`;

  const def = document.createElement('div');
  def.className = 'definition';
  def.textContent = t.definition;

  if (t.related && t.related.length) {
    const rel = document.createElement('div');
    rel.className = 'related-terms';
    rel.innerHTML = '<span style="font-size:12px;color:var(--light);margin-right:2px;">See also:</span>';
    t.related.forEach(r => {
      const a = document.createElement('span');
      a.className = 'related-link';
      a.textContent = r;
      a.addEventListener('click', e => {
        e.stopPropagation();
        jumpToTerm(r);
      });
      rel.appendChild(a);
    });
    def.appendChild(rel);
  }

  card.appendChild(nameRow);
  card.appendChild(def);

  card.addEventListener('click', () => {
    const wasExpanded = card.classList.contains('expanded');
    document.querySelectorAll('.term-card.expanded').forEach(c => c.classList.remove('expanded'));
    if (!wasExpanded) card.classList.add('expanded');
  });

  return card;
}

function jumpToTerm(termName) {
  // Find and scroll to term, clearing filters if needed
  const el = document.getElementById('term-' + termName.replace(/[^a-z0-9]/gi, '-').toLowerCase());
  if (el) {
    el.scrollIntoView({ behavior: 'smooth', block: 'center' });
    el.classList.add('expanded');
    el.style.animation = 'highlight .6s ease';
  } else {
    // Term not in current filter â€” reset and search
    document.getElementById('searchInput').value = termName;
    searchQuery = termName.toLowerCase();
    activeCategory = "All";
    activeLetter = "All";
    document.querySelectorAll('.chip').forEach(c => c.classList.remove('active'));
    document.querySelector('.chip').classList.add('active');
    document.querySelectorAll('.alpha-btn').forEach(b => b.classList.toggle('active', b.textContent === 'All'));
    render();
    setTimeout(() => {
      const found = document.getElementById('term-' + termName.replace(/[^a-z0-9]/gi, '-').toLowerCase());
      if (found) { found.scrollIntoView({ behavior: 'smooth', block: 'center' }); found.classList.add('expanded'); }
    }, 100);
  }
}
</script>
</body>
</html>
